<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PIO: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIO
   &#160;<span id="projectnumber">2.4.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Performing I/O is straightforward when a small number of processors are being used.</p>
<div class="image">
<img src="I_O_on_Few.png" alt="I_O_on_Few.png"/>
<div class="caption">
I/O on One or a Few Processors</div></div>
<p> Parallel I/O does not scale to thousands of processors, because the parallel disk systems do not support the bandwitdh to allow thousands of processors to access the disk at the same time. As a result, most of the processors will have to wait to do I/O.</p>
<p>An obvious solution is to designate a small number of processors to do I/O, and use the rest for computation.</p>
<div class="image">
<img src="I_O_on_Many_Intracomm.png" alt="I_O_on_Many_Intracomm.png"/>
<div class="caption">
I/O on Many Processors Intracomm</div></div>
<p> PIO provides a netCDF-like API which provides this service. User code is written as if parallel I/O is being used from every processor, but, under the hood, PIO uses the I/O processors to do all data access.</p>
<p>With Intracomm Mode, the I/O processors are a subset of the computational processors, and only one computational unit is supported. In Async Mode, the I/O processors are dedicated to I/O, and do not perform computation. Also, more than one computational unit may be designated.</p>
<div class="image">
<img src="I_O_on_Many_Async.png" alt="I_O_on_Many_Async.png"/>
<div class="caption">
I/O on Many Processors Async</div></div>
<p> The user initializes the PIO IO System, designating some processors for I/O, others for computation.</p>
<p>PIO decompositions and distributed arrays allow the code to be written in terms of the local, distributed sub-array (see <a class="el" href="decomp.html">Describing decompositions</a>). PIO handles the stitching of all data into the correct global space in a netCDF variable.</p>
<p>PIO also allows for the creation of multiple computational units. Each computational unit consists of many processors. I/O for all computational units is accomplished through one set of dedicated I/O processors (see <a class="el" href="iosystem.html">Initializing the IO System</a>).</p>
<p>PIO uses <a href="http://www.unidata.ucar.edu/software/netcdf/docs/html_guide/index.html#user_guide">netcdf </a> and <a href="http://trac.mcs.anl.gov/projects/parallel-netcdf">pnetcdf</a> to read and write the netCDF files (see <a class="el" href="install.html">Installing PIO</a>).</p>
<h2>Basic description of how to optimize IO in a parallel environment:</h2>
<p>PIO calls are collective. A MPI communicator is set in a call to <a class="el" href="group___p_i_o__init.html">Initialize an IOSystem</a> and all tasks associated with that communicator must participate in all subsequent calls to PIO. An application can make multiple calls to <a class="el" href="group___p_i_o__init.html">Initialize an IOSystem</a> in order to support multiple MPI communicators.</p>
<p>Begin by getting and unpacking the most recent release of PIO from <a href="https://github.com/PARALLELIO/ParallelIO/releases">gitHub</a> and installing on your system as per the instructions in the <a class="el" href="install.html">Installation</a> document. Take a look at examples of PIO usage in both complex and simple test programs in the [Examples](<a class="el" href="examp.html">Examples</a>) document. Finally, read through the <a class="el" href="faq.html">FAQ</a> to see if any remaining questions can be answered.</p>
<h3>Using PIO has three basic steps.</h3>
<ol type="1">
<li>Your program should call the <a class="el" href="group___p_i_o__init.html">Initialize an IOSystem</a> function, and provide the MPI communicator (and the rank within that communicator) of the calling task. This call initializes an IO system type structure that will be used in subsequent file and decomposition functions.</li>
<li>You can open a file for reading or writing with a call to <a class="el" href="group___p_i_o__createfile.html">Create a File</a> or <a class="el" href="group___p_i_o__openfile.html">Open a File</a>. In this call you will specify the file type: pio_iotype_netcdf, pio_iotype_pnetcdf, pio_iotype_netcdf4c or pio_iotype_netcdf4p; along with the file name and optionally the netcdf mode.</li>
<li>Finally, you can read or write decomposed data to the output file. You must describe the mapping between the organization of data in the file and that same data in the application space. This is done in a call to <a class="el" href="group___p_i_o__initdecomp.html">Define a Decomposition</a>. In the simplest call to this function, a one dimensional integer array is passed from each task, the values in the array represent the offset from the beginning of the array on file. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 14 2019 04:44:11 for PIO by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
